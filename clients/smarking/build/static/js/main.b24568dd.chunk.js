(this.webpackJsonpsmarking=this.webpackJsonpsmarking||[]).push([[0],{69:function(e,t,r){},70:function(e,t,r){},80:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(26),c=r.n(s),i=(r(57),r(8)),o=r.n(i),u=r(15),l=r(11),j=(r(69),r(9)),d="https://api.vanessasgh.me/v1",b={users:"/users",myprofile:"/users/me",session:"/sessions",mysession:"/sessions/mine",cars:"/cars",carspec:"/cars/",usersparking:"/usersparking",parking:"/parking/"},h=r(39),p=r(36),m=r(10),x=r(33),f=(r(70),r(1)),O=function(e){var t=e.error,r=e.setError;switch(t){case"":return Object(f.jsx)(f.Fragment,{});default:return Object(f.jsxs)("div",{className:"error",children:[Object(f.jsx)("span",{className:"error-hide",onClick:function(){return r("")},children:"x"}),"Error: ",t]})}},g=function(e){var t=e.setUser,r=Object(n.useState)(""),a=Object(u.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)(!1),h=Object(u.a)(i,2),p=h[0],m=h[1];return Object(f.jsxs)("div",{className:"sign-out",children:[p&&Object(f.jsx)(j.c,{to:"/"}),Object(f.jsx)(x.a.Item,{onClick:function(){var e=Object(l.a)(o.a.mark((function e(r){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,fetch(d+b.mysession,{method:"DELETE",headers:new Headers({Authorization:localStorage.getItem("Authorization"),"Content-Type":"application/json"})});case 3:if(!((n=e.sent).status>=300)){e.next=10;break}return e.next=7,n.text();case 7:return a=e.sent,c(a),e.abrupt("return");case 10:localStorage.removeItem("Authorization"),m(!0),c(""),t(null);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Sign out"}),s&&Object(f.jsx)("div",{children:Object(f.jsx)(O,{error:s,setError:c})})]})},v=r(32),y=r(25),k=r.p+"static/media/smarkingtext.35917660.png",w=function(e){var t=e.user,r=e.setUser;return Object(f.jsx)("div",{children:Object(f.jsxs)(h.a,{className:"nav",fixed:"top",expand:"lg",variant:"dark",children:[Object(f.jsx)(v.LinkContainer,{to:"/",children:Object(f.jsx)(h.a.Brand,{children:Object(f.jsx)(y.a,{style:{paddingLeft:"5px"},src:k,height:25})})}),Object(f.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(f.jsxs)(h.a.Collapse,{id:"basic-navbar-nav",children:[Object(f.jsx)(p.a,{className:"mr-auto",children:Object(f.jsx)(v.LinkContainer,{to:"/about",children:Object(f.jsx)(p.a.Link,{children:"About"})})}),Object(f.jsxs)(p.a,{children:[!t&&Object(f.jsx)(m.a,{className:"searchbtn",variant:"outline-light",href:"/signin",children:"Sign in"}),t&&Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)(p.a,{children:Object(f.jsx)(v.LinkContainer,{to:"/parking",children:Object(f.jsx)(p.a.Link,{children:"Current Parking"})})}),Object(f.jsxs)(x.a,{title:"Profile",id:"basic-nav-dropdown",children:[Object(f.jsx)(v.LinkContainer,{to:"/cars",children:Object(f.jsx)(x.a.Item,{children:"My Cars"})}),Object(f.jsx)(v.LinkContainer,{to:"/settings",children:Object(f.jsx)(x.a.Item,{children:"Settings"})}),Object(f.jsx)(x.a.Divider,{}),Object(f.jsx)(g,{setUser:r})]})]})]})]})]})})},N=r(16),C=r(21),S=r(7),A=function(e){var t=e.user,r=e.setUser,a=Object(n.useState)({firstName:t?t.firstName:null,lastName:t?t.lastName:null,phoneNumber:t?t.phoneNumber:null}),s=Object(u.a)(a,2),c=s[0],i=s[1],j=Object(n.useState)(""),h=Object(u.a)(j,2),p=h[0],x=h[1];if(!t)return Object(f.jsx)("p",{children:"Loading..."});var g=function(e,t){i(Object(C.a)(Object(C.a)({},c),{},Object(N.a)({},e,t)))},v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,i,u,l,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=c.firstName,a=c.lastName,"+"==(s=c.phoneNumber).charAt(0)){e.next=5;break}return x("Phone number must be valid with country code (e.g. +12061234567)"),e.abrupt("return");case 5:if(!((s=s.replace(/\D/g,"")).length<10||s.length>15)){e.next=9;break}return x("Phone number must be valid!"),e.abrupt("return");case 9:return i={firstName:n,lastName:a,phoneNumber:"+"+s},e.next=12,fetch(d+b.myprofile,{method:"PATCH",body:JSON.stringify(i),headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")})});case 12:if(!((u=e.sent).status>=300)){e.next=19;break}return e.next=16,u.text();case 16:return l=e.sent,alert(l),e.abrupt("return");case 19:return e.next=21,u.json();case 21:j=e.sent,r(j);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Settings"}),Object(f.jsx)("div",{className:"form d-flex justify-content-center",children:Object(f.jsx)(O,{error:p,setError:x})}),Object(f.jsxs)(S.a,{onSubmit:v,children:[Object(f.jsxs)(S.a.Group,{controlId:"formGroupFirstName",children:[Object(f.jsx)(S.a.Label,{children:"First Name"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter First Name",defaultValue:t.firstName,onChange:function(e){return g("firstName",e.target.value)}})]}),Object(f.jsxs)(S.a.Group,{controlId:"formGroupLastName",children:[Object(f.jsx)(S.a.Label,{children:"Last Name"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter Last Name",defaultValue:t.lastName,onChange:function(e){return g("lastName",e.target.value)}})]}),Object(f.jsxs)(S.a.Group,{controlId:"formGroupPhoneNumber",children:[Object(f.jsx)(S.a.Label,{children:"Phone Number"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter Phone Number",defaultValue:t.phoneNumber,onChange:function(e){return g("phoneNumber",e.target.value)}})]}),Object(f.jsx)("br",{}),Object(f.jsx)(m.a,{type:"submit",children:"Change Settings"})]})]})},E=r(56),L=r(63),I=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d+b.usersparking,{method:"GET",headers:new Headers({Authorization:localStorage.getItem("Authorization")})});case 2:if(!((t=e.sent).status>=300)){e.next=9;break}return e.next=6,t.text();case 6:return r=e.sent,alert(r),e.abrupt("return");case 9:return e.next=11,t.json();case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var z=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(),c=Object(u.a)(s,2),i=c[0],j=c[1],h=Object(n.useState)({carID:null,date:null,time:null,notes:null}),p=Object(u.a)(h,2),x=p[0],O=p[1],g=function(e,t){O(Object(C.a)(Object(C.a)({},x),{},Object(N.a)({},e,t)))};Object(n.useEffect)((function(){I().then((function(e){return j(e)})),v().then((function(e){return a(e)}))}),[]);var v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d+b.cars,{method:"GET",headers:new Headers({Authorization:localStorage.getItem("Authorization")})});case 2:if(!((t=e.sent).status>=300)){e.next=9;break}return e.next=6,t.text();case 6:return r=e.sent,alert(r),e.abrupt("return");case 9:return e.next=11,t.json();case 11:return 0!=(n=e.sent).length&&O(Object(C.a)(Object(C.a)({},x),{},Object(N.a)({},"carID",n[0].id))),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(r={carID:+x.carID,notes:x.notes}).endTime=new Date(x.date+" "+x.time),"Invalid Date"!=r.endTime){e.next=6;break}return alert("must provide a valid datetime!"),e.abrupt("return");case 6:return e.next=8,fetch(d+b.usersparking,{method:"POST",body:JSON.stringify(r),headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")})});case 8:if(!((n=e.sent).status>=300)){e.next=15;break}return e.next=12,n.text();case 12:return a=e.sent,alert(a),e.abrupt("return");case 15:return e.next=17,n.json();case 17:e.sent,I().then((function(e){return j(e)}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d+b.parking+t,{method:"PATCH",body:JSON.stringify({isComplete:!0}),headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")})});case 2:if(!((r=e.sent).status>=300)){e.next=9;break}return e.next=6,r.text();case 6:return n=e.sent,alert(n),e.abrupt("return");case 9:return e.next=11,r.text();case 11:e.sent,I().then((function(e){return j(e)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{children:i&&r?0==r.length?Object(f.jsx)("h1",{children:"Register a car to continue!"}):Object(f.jsxs)("div",{children:[0!=i.length&&Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Your current parkings:"}),Object(f.jsx)(E.a,{children:i.map((function(e,t){var n=r.find((function(t){return t.id==e.carID}));if(!e.isComplete&&n)return Object(f.jsxs)(E.a.Item,{children:[Object(f.jsx)("h2",{children:n.licensePlate+": "+n.color+" "+n.year+" "+n.make+" "+n.model}),Object(f.jsxs)("p",{children:["Start time: ",Date(e.startTime).toString()]}),Object(f.jsxs)("p",{children:["Notes: ",e.notes]}),Object(f.jsx)(L.a,{date:e.endTime}),Object(f.jsx)("br",{}),Object(f.jsx)(m.a,{variant:"success",onClick:function(){k(e._id)},style:{fontSize:"12px"},children:"Mark as complete"})]},t)}))})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Set up a parking!"}),Object(f.jsxs)(S.a,{onSubmit:y,children:[Object(f.jsxs)(S.a.Group,{controlId:"formGroupCar",children:[Object(f.jsx)(S.a.Label,{children:"Car"}),Object(f.jsx)(S.a.Control,{as:"select",onChange:function(e){return g("carID",e.target.value)},children:r.map((function(e,t){return Object(f.jsx)("option",{value:e.id,children:e.licensePlate+": "+e.color+" "+e.year+" "+e.make+" "+e.model},t)}))})]}),Object(f.jsxs)(S.a.Group,{controlId:"formGroupEndTime",children:[Object(f.jsx)(S.a.Label,{children:"Expiry Time and Date"}),Object(f.jsx)(S.a.Control,{type:"time",placeholder:"Enter expiry time",onChange:function(e){return g("time",e.target.value)}}),Object(f.jsx)(S.a.Control,{type:"date",placeholder:"Enter expiry date",onChange:function(e){return g("date",e.target.value)}})]}),Object(f.jsxs)(S.a.Group,{controlId:"formGroupNotes",children:[Object(f.jsx)(S.a.Label,{children:"Notes"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter Notes",onChange:function(e){return g("notes",e.target.value)}})]}),Object(f.jsx)("br",{}),Object(f.jsx)(m.a,{type:"submit",children:"Add Parking"})]})]})]}):Object(f.jsx)("p",{children:"loading..."})})},T=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d+b.cars,{method:"GET",headers:new Headers({Authorization:localStorage.getItem("Authorization")})});case 2:if(!((t=e.sent).status>=300)){e.next=9;break}return e.next=6,t.text();case 6:return r=e.sent,alert(r),e.abrupt("return");case 9:return e.next=11,t.json();case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)({licensePlate:null,make:null,model:null,year:null,color:null}),c=Object(u.a)(s,2),i=c[0],j=c[1];Object(n.useEffect)((function(){T().then((function(e){return a(e)}))}),[]);var h=function(e,t){j(Object(C.a)(Object(C.a)({},i),{},Object(N.a)({},e,t)))},p=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d+b.carspec+t,{method:"DELETE",headers:new Headers({Authorization:localStorage.getItem("Authorization")})});case 2:if(!((r=e.sent).status>=300)){e.next=9;break}return e.next=6,r.text();case 6:return n=e.sent,alert(n),e.abrupt("return");case 9:return e.next=11,r.text();case 11:e.sent,T().then((function(e){return a(e)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch(d+b.cars,{method:"POST",body:JSON.stringify(i),headers:new Headers({"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")})});case 3:if(!((r=e.sent).status>=300)){e.next=10;break}return e.next=7,r.text();case 7:return n=e.sent,alert(n),e.abrupt("return");case 10:return e.next=12,r.json();case 12:e.sent,T().then((function(e){return a(e)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r?Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Car List"}),0==r.length?Object(f.jsx)("p",{children:"Your car list is empty! Add some below!"}):Object(f.jsx)("div",{children:r.map((function(e,t){return Object(f.jsxs)("p",{children:[e.licensePlate+": "+e.color+" "+e.year+" "+e.make+" "+e.model," ",Object(f.jsx)(m.a,{variant:"danger",onClick:function(){return p(e.id)},style:{fontSize:"12px"},children:"Delete"})]},t)}))}),Object(f.jsxs)(S.a,{onSubmit:x,children:[Object(f.jsxs)(S.a.Group,{controlId:"formGroupLicensePlate",children:[Object(f.jsx)(S.a.Label,{children:"License Plate"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter License Plate",onChange:function(e){return h("licensePlate",e.target.value)}})]}),Object(f.jsxs)(S.a.Group,{controlId:"formGroupColor",children:[Object(f.jsx)(S.a.Label,{children:"Color"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter Car Color",onChange:function(e){return h("color",e.target.value)}})]}),Object(f.jsxs)(S.a.Group,{controlId:"formGroupYear",children:[Object(f.jsx)(S.a.Label,{children:"Year"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter Manufacturing Year",onChange:function(e){return h("year",e.target.value)}})]}),Object(f.jsxs)(S.a.Group,{controlId:"formGroupMake",children:[Object(f.jsx)(S.a.Label,{children:"Make"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter Car Make",onChange:function(e){return h("make",e.target.value)}})]}),Object(f.jsxs)(S.a.Group,{controlId:"formGroupModel",children:[Object(f.jsx)(S.a.Label,{children:"Model"}),Object(f.jsx)(S.a.Control,{placeholder:"Enter Car Model",onChange:function(e){return h("model",e.target.value)}})]}),Object(f.jsx)("br",{}),Object(f.jsx)(m.a,{type:"submit",children:"Add Car"})]})]}):Object(f.jsx)("p",{children:"Loading..."})},P=r(27),G=r(20),D=r(19),R=r.p+"static/media/car1.8151a3e0.jpg",U=r.p+"static/media/parking.bcc32c74.jpg";var H=function(){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("h1",{style:{textAlign:"center",fontFamily:"Raleway",fontWeight:900,marginTop:"20px"},children:["Never lose your car again ",Object(f.jsx)("br",{}),"with ",Object(f.jsx)("span",{style:{color:"#009999"},children:"Smarking"})]}),Object(f.jsxs)(P.a,{style:{marginTop:"30px"},children:[Object(f.jsx)(G.a,{md:7,children:Object(f.jsx)(y.a,{rounded:!0,fluid:!0,src:R,style:{paddingLeft:"5vw",paddingBottom:"10px"}})}),Object(f.jsxs)(G.a,{md:5,children:[Object(f.jsx)("h2",{style:{textAlign:"center",fontFamily:"Raleway",fontWeight:600,marginLeft:"3vw",marginRight:"3vw"},children:"Store notes about where you parked your car"}),Object(f.jsx)("p",{style:{textAlign:"left",fontFamily:"Roboto",fontSize:"15px",color:"gray",marginTop:"30px",marginLeft:"7vw",marginRight:"7vw"},children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(f.jsx)(D.Link,{to:"/signup",children:Object(f.jsx)("p",{style:{textAlign:"Center",fontFamily:"Roboto",fontSize:"15px",color:"#009999",fontWeight:700},children:"Start parking"})})]})]}),Object(f.jsxs)(P.a,{className:"flex-column-reverse flex-md-row",style:{marginTop:"40px"},children:[Object(f.jsxs)(G.a,{md:5,children:[Object(f.jsx)("h2",{style:{textAlign:"center",fontFamily:"Raleway",fontWeight:600,marginLeft:"3vw",marginRight:"3vw"},children:"Get notified when your payment will run out"}),Object(f.jsx)("p",{style:{textAlign:"left",fontFamily:"Roboto",fontSize:"15px",color:"gray",marginTop:"30px",marginLeft:"7vw",marginRight:"7vw"},children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(f.jsx)(D.Link,{to:"/signup",children:Object(f.jsx)("p",{style:{textAlign:"Center",fontFamily:"Roboto",fontSize:"15px",color:"#009999",fontWeight:700},children:"Create Profile"})})]}),Object(f.jsx)(G.a,{md:7,children:Object(f.jsx)(y.a,{rounded:!0,fluid:!0,src:U,style:{paddingRight:"5vw",paddingBottom:"10px"}})})]}),Object(f.jsxs)("p",{style:{textAlign:"Center",fontFamily:"Roboto",fontSize:"18px",color:"black",fontWeight:700,marginTop:"40px"},children:["Take charge of your new parking experiences with"," ",Object(f.jsx)("span",{style:{color:"#009999"},children:"Smarking"}),".",Object(f.jsx)("br",{})," The revolutionary parking focused site."]}),Object(f.jsx)(P.a,{className:"d-flex justify-content-center"})]})},q=r(46),M=r(47),J=r(49),W=r(48),B=function(e){var t=e.setField,r=e.submitForm,n=e.values,s=e.fields;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(a.a.Fragment,{children:Object(f.jsxs)(S.a,{onSubmit:r,children:[s.map((function(e){var r=e.key,a=e.name;return Object(f.jsxs)("div",{children:[Object(f.jsxs)(S.a.Label,{children:[a,": "]}),Object(f.jsx)(S.a.Control,{value:n[r],name:r,onChange:t,type:"password"===r||"passwordConf"===r?"password":""})]},r)})),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"})})]})})})},Y=r.p+"static/media/smarkinglogo.95069faa.png",V=function(e){Object(J.a)(r,e);var t=Object(W.a)(r);function r(e){var n;return Object(q.a)(this,r),(n=t.call(this,e)).setField=function(e){n.setState(Object(N.a)({},e.target.name,e.target.value))},n.setError=function(e){n.setState({error:e})},n.submitForm=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a,s,c,i,u,l,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.state,a=r.email,s=r.password,c={email:a,password:s},e.next=5,fetch(d+b.session,{method:"POST",body:JSON.stringify(c),headers:new Headers({"Content-Type":"application/json"})});case 5:if(!((i=e.sent).status>=300)){e.next=12;break}return e.next=9,i.text();case 9:return u=e.sent,n.setError(u),e.abrupt("return");case 12:return l=i.headers.get("Authorization"),localStorage.setItem("Authorization",l),n.setError(""),e.next=17,i.json();case 17:j=e.sent,n.props.setUser(j),n.setState({redir:!0});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setRedirect=function(){},n.state={email:"",password:"",error:"",redir:!1},n.fields=[{name:"Email",key:"email"},{name:"Password",key:"password"}],n}return Object(M.a)(r,[{key:"render",value:function(){var e=this.state,t=this.state.error;return Object(f.jsx)("div",{className:"sign-in-page",children:this.state.redir?Object(f.jsx)(j.c,{to:"/about"}):Object(f.jsx)(P.a,{children:Object(f.jsxs)(G.a,{children:[Object(f.jsx)("div",{className:"logo d-flex justify-content-center",children:Object(f.jsx)(y.a,{fluid:!0,style:{height:"250px"},src:Y})}),Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("h1",{style:{textAlign:"center",fontFamily:"Raleway",fontWeight:"900"},children:["Sign ",Object(f.jsx)("span",{className:"red",children:"In"})]})}),Object(f.jsx)("div",{className:"form d-flex justify-content-center",children:Object(f.jsx)(O,{error:t,setError:this.setError})}),Object(f.jsx)("div",{className:"form d-flex justify-content-center",children:Object(f.jsx)(B,{setField:this.setField,submitForm:this.submitForm,values:e,fields:this.fields})}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)(m.a,{className:"btn btn-secondary mr-2",href:"/signup",children:"New? Sign up!"})})]})})})}}]),r}(n.Component),_=function(e){Object(J.a)(r,e);var t=Object(W.a)(r);function r(e){var n;return Object(q.a)(this,r),(n=t.call(this,e)).setField=function(e){n.setState(Object(N.a)({},e.target.name,e.target.value))},n.setError=function(e){n.setState({error:e})},n.submitForm=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a,s,c,i,u,l,j,h,p,m,x,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=n.state,a=r.email,s=r.userName,c=r.firstName,i=r.lastName,u=r.phoneNumber,l=r.password,j=r.passwordConf,"+"==u.charAt(0)){e.next=5;break}return n.setError("Phone number must be valid with country code (e.g. +12061234567)"),e.abrupt("return");case 5:if(!((u=u.replace(/\D/g,"")).length<10||u.length>15)){e.next=9;break}return n.setError("Phone number must be valid!"),e.abrupt("return");case 9:return h={email:a,userName:s,firstName:c,lastName:i,phoneNumber:"+"+u,password:l,passwordConf:j},e.next=12,fetch(d+b.users,{method:"POST",body:JSON.stringify(h),headers:new Headers({"Content-Type":"application/json"})});case 12:if(!((p=e.sent).status>=300)){e.next=19;break}return e.next=16,p.text();case 16:return m=e.sent,n.setError(m),e.abrupt("return");case 19:return x=p.headers.get("Authorization"),localStorage.setItem("Authorization",x),n.setError(""),e.next=24,p.json();case 24:f=e.sent,n.props.setUser(f),n.setState({redir:!0});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",userName:"",firstName:"",lastName:"",phoneNumber:"",password:"",passwordConf:"",error:"",redir:!1},n.fields=[{name:"Email",key:"email"},{name:"Username",key:"userName"},{name:"First Name",key:"firstName"},{name:"Last Name",key:"lastName"},{name:"Phone Number",key:"phoneNumber"},{name:"Password",key:"password"},{name:"Password Confirmation",key:"passwordConf"}],n}return Object(M.a)(r,[{key:"render",value:function(){var e=this.state,t=this.state.error;return Object(f.jsx)("div",{className:"sign-in-page",children:this.state.redir?Object(f.jsx)(j.c,{to:"/diet"}):Object(f.jsx)(P.a,{children:Object(f.jsxs)(G.a,{children:[Object(f.jsx)("div",{className:"logo d-flex justify-content-center",children:Object(f.jsx)(y.a,{fluid:!0,style:{height:"250px"},src:Y})}),Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("h1",{style:{textAlign:"center",fontFamily:"Raleway",fontWeight:"900"},children:["Sign ",Object(f.jsx)("span",{className:"red",children:"Up"})]})}),Object(f.jsx)("div",{className:"form d-flex justify-content-center",children:Object(f.jsx)(O,{error:t,setError:this.setError})}),Object(f.jsx)("div",{className:"form d-flex justify-content-center",children:Object(f.jsx)(B,{setField:this.setField,submitForm:this.submitForm,values:e,fields:this.fields})}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)(m.a,{className:"btn btn-secondary mr-2",href:"/signin",children:"Already a user? Sign in!"})})]})})})}}]),r}(n.Component);function K(){return(K=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(d+b.myprofile,{headers:new Headers({Authorization:t})});case 4:if(!((r=e.sent).status>=300)){e.next=9;break}return alert("Unable to verify login. Logging out..."),localStorage.setItem("Authorization",""),e.abrupt("return",null);case 9:return e.next=11,r.json();case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)({loading:!1}),c=Object(u.a)(s,2);c[0],c[1];return Object(n.useEffect)((function(){(function(e){return K.apply(this,arguments)})(localStorage.getItem("Authorization")).then((function(e){return a(e)}))}),[]),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(w,{user:r,setUser:a}),Object(f.jsx)("main",{children:Object(f.jsxs)(j.g,{children:[Object(f.jsx)(j.d,{exact:!0,path:"/",component:H}),Object(f.jsx)(j.d,{exact:!0,path:"/about",component:H}),Object(f.jsx)(j.d,{exact:!0,path:"/settings",render:function(){return Object(f.jsx)(A,{user:r,setUser:a})}}),Object(f.jsx)(j.d,{path:"/parking",component:z}),Object(f.jsx)(j.d,{path:"/cars",component:F}),Object(f.jsx)(j.d,{path:"/signin",children:Object(f.jsx)(V,{setUser:a})}),Object(f.jsx)(j.d,{path:"/signup",children:Object(f.jsx)(_,{setUser:a})}),Object(f.jsx)(j.c,{to:"/"})]})})]})};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(D.BrowserRouter,{children:Object(f.jsx)(Q,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.b24568dd.chunk.js.map